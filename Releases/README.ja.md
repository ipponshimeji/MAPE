# リリースノート

### 2017/09/19 [1.0.18.0 (beta)](MAPE_1.0.18.0_Windows.zip) 

sha256ハッシュ: D2D493EB7D3C36175D49F94476D1721B711612013AD36453CF5A02A338109BD5

* レスポンス処理の効率化。
  例えば、http接続での画像を多く含むページ等の処理の体感速度が向上していることでしょう。

  従来、レスポンスメッセージ全体を読んでから折り返し要否を判断して処理していましたが、
  ヘッダを読んだ段階で判断を行い、クライアント側へ返す場合にはボディ部をサーバー側からリダイレクトするようにしました。
  また、これにより、chunk転送モードにおいて、（一括転送ではなく）ちゃんとチャンクごとに転送するようになったため、Webクライアントが例えば画像の部分レンダリングなどを順次行うことができ、処理の体感速度が向上します。

  なお、https接続の場合は、従来からリダイレクト相当なので、この改善による効果はありません。


### 2017/08/07 [1.0.17.0 (beta)](MAPE_1.0.17.0_Windows.zip) 

sha256ハッシュ: 9790AB3ADE4314D794A6C8E2A5C88EE97EA8BE293A04FE73D187173F5A3EF08B

* 自動構成スクリプト（.PACファイル）対応。
  設定の変更が必要になる場合があります。
  詳細は、ブログ『[「認証プロキシ爆発しろ！」が自動構成スクリプトに対応しました](http://ipponshimeji.cocolog-nifty.com/blog/2017/08/post-86b8.html)』を参照してください。


### 2017/06/14 [1.0.16.0 (beta)](MAPE_1.0.16.0_Windows.zip) 

sha256ハッシュ: 443BA7CC3370C6370EEA2BACF7098448F1CA51D2D6DB27BC78F7572B9519DD19

* PCのスリープ復帰時の中継再開に対して再開試行回数、初期遅延時間、再試行間隔を設定できるようにした。
* 「認証情報」ダイアログを開いたままPCをスリープさせると、再開後GUIがフリーズする問題を修正した。（Issues #2）


### 2017/05/22 [1.0.15.0 (beta)](MAPE_1.0.15.0_Windows.zip) 

sha256ハッシュ: 8786EF362ED8F28DF5BE0D55FB07015B35FAA32C32B793BF36F162B9A4FB52BE

* 中継開始時に実際のプロキシへの接続性を確認するようにした。（Issues #1 の問題の残り）


### 2017/05/15 [1.0.14.0 (beta)](MAPE_1.0.14.0_Windows.zip) 

sha256ハッシュ: 0E5B94FF17780F92DE7A794A1E0476B825D226E688860BED84866ADBD7D30AAF

* PCのスリープ時に中継中だったかどうかにかかわらず復帰時に中継を開始していたバグを修正。
  スリープ時に中継中だった場合のみ復帰時に中継を再開する。（Issues #1 の問題の一部）


### 2017/05/10 [1.0.13.0 (beta)](MAPE_1.0.13.0_Windows.zip) 

sha256ハッシュ: A1046C7CA0DE469DB33137EE98440B7E4BE7F8E12500C8F9EEE9440DA114088F

* 通信の中継中に、ユーザーのサインアウトまたはマシンのシャットダウンを行った場合、
  書換えたシステム設定きちんと復元されないことがある問題を修正。
  1.0.12.0の問題を修正し、システム設定が安定して復元されるようにした。


### 2017/04/27 [1.0.12.0 (beta)](MAPE_1.0.12.0_Windows.zip) 

sha256ハッシュ: 0C357081502994A6A9DDDB0EAC3460DE12697DFC398AA665D8DE3FC3C00DB94A

* GUI版でプロキシ中継中の場合、~~ユーザーのサインアウト時またはマシンのシャットダウン時に中継が中止されず、
  結果として書き換えたシステム設定が復元されない問題を修正。
  CLI版にも同様の問題があるかもしれない。CLI版はちょっとタイミング依存部分きつくてもうちょっと調査が必要。~~
  どうも、自動構成スクリプトでプロキシ設定しているケースでシステム設定が復元されない場合があるらしく、調査中。
  当面、中継を中止してからサインアウト/シャットダウンするようにしてください。
* GUI版の表示上の障害を修正
    * 初期セットアップ直後のメインウィンドウのレイアウトが保存されない問題。
    * メインウィンドウの中継中UIが正しく中継中状態と同期していないことがある問題。


### 2017/04/20 [1.0.11.0 (beta)](MAPE_1.0.11.0_Windows.zip) 

sha256ハッシュ: 4AB19DEB5A7DEF5A6B60FFDD79AFC410C7BB26DAA6091F4FB483A361E49054C3

* 初回起動時にセットアップ画面が出るようにした。タブコントロールを流用した簡単なセットアップだけど。
  すでにセットアップ済と判断した場合は、特になにもしない。
* とりあえず入れときたい機能は入れたので、ベータとする。バージョンも1.0とした。
* 以降はリファクタリングとテスト拡充を行う予定。まあ、多少の機能も追加することもあると思うけど。


## 以下のバイナリは直近のコミットからは削除しています

過去のタグを取得することで入手できます。


### 2017/04/03 0.1.10.0 (alpha) 

sha256ハッシュ: 027FC73FAE3175661B36AE42DF576F0B1900B4BF1756A0CEDA9A8A72DC71C621

* 「認証プロキシ爆発しろ！」の多重起動を抑止した（CLI版/GUI版の区別無く多重起動を抑止する）。
* システム設定切替中に予期せずアプリが終了した場合、次回起動時に設定を復元できるようにした。
* 次回ベータに移行する予定。


### 2017/03/23 0.1.9.0 (alpha)

sha256ハッシュ: D4392E25DEE063A5FB4A6AF5F56B03421893B79BCC862DCDDE30F26044694FCB

* 「設定」ウィンドウを実装した。
* コンポーネントキャッシュのサイズが小さすぎるようなので、統計情報を元に調整した。
* 思うところあって、設定周りの下層を書き直し、抽象化するレイヤを挟んだ。後で、別ソフトに再利用する予定。ただし、外部仕様には影響ないはず。
* とりあえず入れておきたい機能はあともう少しなので、次回あたりベータに移行するかな。

### 2017/02/20 0.1.8.0 (alpha)

sha256ハッシュ: 32824901C2554C3502446F935772F8D51CDB46DB7801296C120B4FEC5423B497

* 「Basic認証決めつけモード」を実装した。
* 中継時にPCがサスペンドしたら中継を中止し、PCが復帰したら再び中継を開始するようにした。
* CLIのログを.NET FrameworkのTraceから独自形式（GUIと同じ内容）のものにした。
* 中継終了時にコンポーネントキャッシュの統計情報をVerboseレベルのログとして出力するようにした。
* 認証情報ダイアログで対象となる認証プロキシのホスト名が正しく表示されないバグを修正。

### 2017/02/13 0.1.7.0 (alpha)

sha256ハッシュ: 732E2B2B287C68F1D8C8744CAF0B7A7A796DF0E97358990F3DA75B3379B72EC8

* メインウィンドウの位置とログリストビューのカラム幅を保存するようにした。
* メインウィンドウの「中継」ボタンにインジケーターをつけた。

### 2017/02/07 0.1.6.0 (alpha)

sha256ハッシュ: ED22FBEA79E712C4AC9272C72AE6A89AB1DA028646FF88E66D21DE4C0F6156D5

* dll/exeを厳密名つきアセンブリにした。
これに伴い、厳密名をつけていない過去のバイナリを削除した。
* 通信中継時の通信断などの重大でない例外のレベルをErrorからWarningに落とした。 
* バグ修正少々。

### 2017/01/29 0.1.5.0 (alpha)

* /Cultureオプションを実装（まあ、ほとんどデバッグのため）
* GUIで「ログリストで最後のログを追尾する」をOn/Offできるようにした。
* アイコンをアップデート。主に、Off時のアイコンの視認性の向上。
* コマンド版の/Help時に最小限の使い方が出るようにした。完全版はそのうち。
* バグ修正少々。マイナーなもので基本動作には影響しません。詳細はコミットログを。

### 2017/01/25 0.1.4.0 (alpha)

* 一通り動くようにした。
* GUI版の設定ウィンドウは未実装
